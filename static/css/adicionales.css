/* ============================================
   ESTILOS DE PRODUCTOS: ADICIONALES
   Página de productos complementarios y accesorios
   ============================================ */

/* Sección de encabezado */
.header-section {
    background: #9f7aea;
    color: white;
    padding: 4rem 1rem;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.header-section h1 {
    font-size: 2.5rem;
    font-weight: 800;
}

/* Contenedor general */
.productos-section {
    background: #f3f4f6;
    padding: 3rem 1.5rem;
}

.productos-wrapper {
    max-width: 1200px;
    margin: auto;
}

/* Grid de productos */
.productos-grid {
    display: grid;
    gap: 2rem;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    justify-items: center; /* centrar celdas para que una sola card no se estire */
    justify-content: center;
}

/* Tarjetas */
.product-card {
    background: white;
    border-radius: 1rem;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transition: 0.3s ease;
}

/* Limitar ancho máximo de cada tarjeta para que no aparezca enorme cuando
   hay poca cantidad de items en la grid. Centrar y mantener tamaño razonable. */
.productos-grid .product-card {
    width: 100%;
    max-width: 520px;
    margin: 0 auto;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.20);
}

.product-card img {
    width: 100%;
    height: 220px;
    max-height: 220px;
    display: block;
    object-fit: cover;
}

/* FIX: asegurar que imágenes grandes NO estiren la tarjeta
   - usamos layout por flexbox en cada tarjeta y fijamos la altura de imagen
   - añadimos !important para evitar que utilidades externas la sobreescriban */
.productos-grid .product-card {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: flex-start;
    overflow: hidden;
}

.productos-grid .product-card img {
    width: 100% !important;
    height: 220px !important;
    max-height: 220px !important;
    flex: 0 0 220px !important;
    object-fit: cover !important;
    object-position: center center !important;
    display: block !important;
}

/* Clase para mostrar la imagen completa sin recortarla cuando sea necesario */
.productos-grid .product-card img.img-fit-contain {
    object-fit: contain !important;
    background-color: #ffffff !important;
    padding: 8px !important;
}

/* Override definitivo: anular alturas/flex forzadas y asegurar que las imágenes
   con la clase `.img-fit-contain` se muestren completas y centradas dentro
   de la tarjeta sin estirar ni recortar. */
.product-card img.img-fit-contain,
.product-card > img.img-fit-contain,
.productos-grid .product-card img.img-fit-contain {
    height: auto !important;
    max-height: 220px !important;
    width: auto !important;
    max-width: 100% !important;
    margin: 0 auto !important;
    flex: 0 0 auto !important;
    object-fit: contain !important;
    object-position: center center !important;
    display: block !important;
    padding: 8px !important;
    background: #ffffff !important;
}

@media (max-width: 640px) {
    .product-card img.img-fit-contain,
    .product-card > img.img-fit-contain,
    .productos-grid .product-card img.img-fit-contain {
        max-height: 180px !important;
    }
}

/* OVERRIDE FINAL: regla ultra-específica para vencer selectores con id y
   forzar que las imágenes con .img-fit-contain se muestren completas. */
.productos-section #productos-container .product-card > img.img-fit-contain[src],
.productos-section #productos-container .product-card img.img-fit-contain[src] {
    object-fit: contain !important;
    object-position: center center !important;
    height: auto !important;
    max-height: 220px !important;
    width: auto !important;
    max-width: 100% !important;
    display: block !important;
    margin: 0 auto !important;
    padding: 8px !important;
    background: #ffffff !important;
}

@media (max-width: 640px) {
    .productos-section #productos-container .product-card > img.img-fit-contain[src],
    .productos-section #productos-container .product-card img.img-fit-contain[src] {
        max-height: 180px !important;
    }
}

.productos-grid .product-info {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 1.2rem;
    box-sizing: border-box;
}

/* Responsive: imagenes un poco mas pequeñas en móviles */
@media (max-width: 640px) {
    .productos-grid .product-card img {
        height: 180px !important;
        max-height: 180px !important;
        flex: 0 0 180px !important;
    }
}

/* ULTIMO RECURSO: reglas ultra-específicas para forzar recorte de cualquier
   imagen que esté rompiendo la cuadrícula en la sección 'Equipos Adicionales'.
   Estas reglas usan selectores largos y `!important` para vencer cualquier
   otra utilidad inline o reglas heredadas. */
.productos-section #productos-container .product-card > img[src],
.productos-section #productos-container .product-card img[src] {
    width: 100% !important;
    max-width: 100% !important;
    height: 220px !important;
    max-height: 220px !important;
    line-height: 0 !important;
    display: block !important;
    object-fit: cover !important;
    object-position: center center !important;
}

/* Variante responsive */
@media (max-width: 640px) {
    .productos-section #productos-container .product-card > img[src],
    .productos-section #productos-container .product-card img[src] {
        height: 180px !important;
        max-height: 180px !important;
    }
}

/* Si alguna imagen tiene atributos inline que fuerzan altura, anularlos */
.productos-section #productos-container .product-card img[height],
.productos-section #productos-container .product-card img[style] {
    height: 220px !important;
    max-height: 220px !important;
    width: 100% !important;
}


/* DARK MODE ENHANCEMENTS para Equipos Adicionales */
html[data-theme="dark"] .header-section,
html.dark .header-section,
.dark .header-section,
body.dark .header-section {
    background: linear-gradient(135deg,#4c1d95 0%, #1f2937 100%) !important;
    box-shadow: 0 6px 20px rgba(0,0,0,0.6) !important;
}

html[data-theme="dark"] .productos-section,
html.dark .productos-section,
.dark .productos-section,
body.dark .productos-section {
    background: #0b0f14 !important;
}

/* Tarjetas en modo oscuro: fondo oscuro, bordes suaves y texto claro */
html[data-theme="dark"] .product-card,
html.dark .product-card,
.dark .product-card,
body.dark .product-card {
    background: #0f1419 !important;
    box-shadow: 0 8px 24px rgba(0,0,0,0.6) !important;
    border: 1px solid rgba(255,255,255,0.03) !important;
}

html[data-theme="dark"] .product-info h3,
html.dark .product-info h3,
.dark .product-info h3,
body.dark .product-info h3 {
    color: #e6eef8 !important;
}

html[data-theme="dark"] .product-info p,
html.dark .product-info p,
.dark .product-info p,
body.dark .product-info p {
    color: #cbd5e1 !important;
}

html[data-theme="dark"] .product-price,
html.dark .product-price,
.dark .product-price,
body.dark .product-price {
    color: #ff6b81 !important;
}

/* Botón sigue llamativo pero con contraste en dark */
html[data-theme="dark"] .btn-carrito,
html.dark .btn-carrito,
.dark .btn-carrito,
body.dark .btn-carrito {
    background: #db2777 !important;
    box-shadow: 0 6px 18px rgba(219,39,119,0.15) !important;
}

/* Seguridad: asegurar que imágenes muy grandes no rompan el grid */
.product-card img {
    width: 100%;
    height: 220px;
    max-height: 220px;
    object-fit: cover;
    display: block;
}

/* Si quieres ajustar la altura para coincidir con otras páginas, cambia 220px arriba */


/* Contenido */
.product-info {
    padding: 1rem;
    text-align: center;
}

.product-info h3 {
    font-size: 1.2rem;
    font-weight: bold;
    color: #1f2937;
    margin-bottom: 0.5rem;
}

.product-info p {
    font-size: .9rem;
    color: #6b7280;
    margin-bottom: .5rem;
}

.product-price {
    font-size: 1.6rem;
    font-weight: 700;
    color: #e11d48;
    margin-bottom: .5rem;
}

.product-stock {
    font-size: .8rem;
    color: #6b7280;
}

/* Botón */
.btn-carrito {
    width: 100%;
    margin-top: .7rem;
    padding: .7rem;
    background: #db2777;
    color: white;
    border: none;
    border-radius: .6rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: .3s ease;
}

.btn-carrito:hover {
    background: #be185d;
    transform: scale(1.03);
}